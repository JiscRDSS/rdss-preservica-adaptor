sudo: required
language: python

python:
  - "3.6"

before_install:
  - sudo apt-get update -yqq

install:
  - pip install pre-commit
  - pre-commit install

before_script:
  - wget https://releases.hashicorp.com/terraform/0.10.8/terraform_0.10.8_linux_amd64.zip -O /tmp/terraform.zip
  - unzip /tmp/terraform.zip -d terraform/
  - export PATH=$PATH:$PWD/terraform/
  - make deps

script:
  - pre-commit run --all-files --verbose
  - make lint
  - make test
